{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/SearchBar/SearchBar.js","components/Button/Button.js","components/services/imagesApi.js","App.js","reportWebVitals.js","index.js"],"names":["ImageGalleryItem","src","title","id","className","alt","ImageGallery","images","map","webformatURL","tags","SearchBar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","console","log","this","type","onClick","autoComplete","autoFocus","placeholder","onChange","Component","Button","handleClick","defaultProps","imagesApi","searchQuery","currentPage","per_page","axios","get","then","response","data","hits","App","isLoading","onChangeQuery","fetchImages","options","isLoader","prevState","catch","error","finally","prevProps","shouldRenderLoadMoreButton","length","color","height","width","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.caaea31f.chunk.js","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ImageGalleryItem = ({ src, title, id }) => (\r\n  <li className=\"ImageGalleryItem\" key={id}>\r\n    <img src={src} alt={title} className=\"ImageGalleryItem-image\" />\r\n  </li>\r\n);\r\n\r\nImageGalleryItem.propTypes = {\r\n  src: PropTypes.string,\r\n  title: PropTypes.string.isRequired,\r\n  id: PropTypes.number,\r\n};\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem\";\r\n\r\nconst ImageGallery = ({ images }) => (\r\n  <ul className=\"ImageGallery\">\r\n    {images.map(({ webformatURL, tags, id }) => (\r\n      <ImageGalleryItem key={id} src={webformatURL} title={tags} />\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from \"react\";\r\n// import PropTypes from \"prop-types\";\r\n\r\nclass SearchBar extends Component {\r\n  state = {\r\n    query: \"\",\r\n  };\r\n  handleChange = (e) => {\r\n    this.setState({ query: e.currentTarget.value });\r\n    // console.log(e.currentTarget.value);\r\n  };\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.setState.query);\r\n    console.log(this.state.query);\r\n    this.setState({ query: \"\" });\r\n    console.log(this.props.onSubmit);\r\n  };\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button\r\n            type=\"submit\"\r\n            className=\"SearchForm-button\"\r\n            onClick={this.handleSubmit}\r\n          >\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.query}\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchBar;\r\n","//window.scrollTo({\r\n//  top: document.documentElement.scrollHeight,\r\n//  behavior: \"smooth\",\r\n//});\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"../styles.css\";\r\n\r\nconst Button = (handleClick) => {\r\n  console.log(handleClick);\r\n  // console.log(onClick);\r\n  return (\r\n    <button type=\"button\" className=\"Button\" onClick={handleClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\nButton.defaultProps = {\r\n  handleClick: () => null,\r\n};\r\n\r\nButton.propTypes = {\r\n  handleClick: PropTypes.func,\r\n};\r\nexport default Button;\r\n","import axios from \"axios\";\r\n\r\n// axios.defaults.headers.common[\"Authorization\"] =\r\n//   \"Bearer 4330ebfabc654a6992c2aa792f3173a3\";\r\nconst BASEURL = \"https://pixabay.com/api/\";\r\nconst API_KEY = \"21316838-7fcc910513b76d8c5d66b5ad0\";\r\n//https://pixabay.com/api/?q=что_искать&page=номер_страницы&key=твой_ключ&image_type=photo&orientation=horizontal&per_page=12\r\n\r\nconst imagesApi = ({ searchQuery = \"\", currentPage = 1, per_page = 12 }) => {\r\n  return axios\r\n    .get(\r\n      `${BASEURL}?q=${searchQuery}&page=${currentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${per_page}`\r\n    )\r\n    .then((response) => response.data.hits);\r\n};\r\n// response.data.hits\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\n\r\nexport default imagesApi;\r\n","import React, { Component } from \"react\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport SearchBar from \"./components/SearchBar\";\nimport Loader from \"react-loader-spinner\";\nimport Button from \"./components/Button\";\n// import axios from \"axios\";\n// import newsApi from \"./components/services/imagesApi\";\nimport \"./components/styles.css\";\nimport imagesApi from \"./components/services/imagesApi\";\n\nclass App extends Component {\n  state = {\n    hits: [],\n    currentPage: 1,\n    searchQuery: \"\",\n    isLoading: false,\n    // error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n  }\n\n  onChangeQuery = (query) => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      hits: [],\n      // error: null,\n    });\n    console.log(this.searchQuery);\n  };\n\n  fetchImages = () => {\n    const { searchQuery, currentPage } = this.state;\n    const options = { searchQuery, currentPage };\n\n    this.setState({ isLoader: true });\n\n    imagesApi(options)\n      .then((hits) =>\n        this.setState((prevState) => ({\n          hits: [...prevState.hits, ...hits],\n          currentPage: prevState.currentPage + 1,\n        }))\n      )\n      .catch((error) => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n  render() {\n    console.log(this.fetchImages);\n    const { hits, isLoading } = this.state;\n    const shouldRenderLoadMoreButton = hits.length > 0 && !isLoading;\n\n    return (\n      <div>\n        {/* {error && <h1>Ой ошибка, всё пропало!!!</h1>} */}\n\n        <SearchBar onSubmit={this.onChangeQuery} />\n        <ImageGallery images={hits} />\n\n        {isLoading && (\n          <Loader type=\"TailSpin\" color=\"#00BFFF\" height={80} width={80} />\n        )}\n\n        {shouldRenderLoadMoreButton && (\n          <Button handleClick={this.fetchImages} />\n        )}\n      </div>\n    );\n  }\n}\n//Проблемы: 1. не передается запрос в стейт Апп,\n// проблемы с онКликом на кнопке. Модалка и скролл\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}