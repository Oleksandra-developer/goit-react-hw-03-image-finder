{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/SearchBar/SearchBar.js","components/Button/Button.js","components/Modal/Modal.js","components/services/imagesApi.js","App.js","reportWebVitals.js","index.js"],"names":["ImageGalleryItem","src","title","id","handleOpenModal","className","onClick","alt","ImageGallery","images","map","webformatURL","tags","largeImageURL","SearchBar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","this","type","autoComplete","autoFocus","placeholder","onChange","Component","Button","handleClick","defaultProps","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","event","target","window","addEventListener","removeEventListener","targetImg","createPortal","imagesApi","searchQuery","currentPage","per_page","axios","get","then","response","data","hits","App","isLoading","error","showModal","targetImgId","toggleModal","getImgInModal","find","hit","onChangeQuery","scroll","scrollTo","top","documentElement","scrollHeight","behavior","fetchImages","options","isLoader","prevState","catch","finally","prevProps","shouldRenderLoadMoreButton","length","ModalImg","color","height","width","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.005134cd.chunk.js","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ImageGalleryItem = ({ src, title, id, handleOpenModal }) => (\r\n  <li className=\"ImageGalleryItem\" key={id} onClick={handleOpenModal}>\r\n    {/* <a href={link}> */}\r\n    <img src={src} alt={title} className=\"ImageGalleryItem-image\" />\r\n    {/* </a> */}\r\n  </li>\r\n);\r\n\r\nImageGalleryItem.propTypes = {\r\n  link: PropTypes.string,\r\n  src: PropTypes.string,\r\n  title: PropTypes.string.isRequired,\r\n  id: PropTypes.number,\r\n};\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem\";\r\n\r\nconst ImageGallery = ({ images, handleOpenModal }) => (\r\n  <ul className=\"ImageGallery\">\r\n    {images.map(({ webformatURL, tags, id, largeImageURL }) => (\r\n      <ImageGalleryItem\r\n        key={id}\r\n        src={webformatURL}\r\n        title={tags}\r\n        handleOpenModal={() => handleOpenModal(id)}\r\n        // link={largeImageURL}\r\n      />\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from \"react\";\r\n// import PropTypes from \"prop-types\";\r\n\r\nclass SearchBar extends Component {\r\n  state = {\r\n    query: \"\",\r\n  };\r\n  handleChange = (e) => {\r\n    this.setState({ query: e.currentTarget.value });\r\n    // console.log(e.currentTarget.value);\r\n  };\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.query);\r\n    // console.log(this.state.query);\r\n    this.setState({ query: \"\" });\r\n    // console.log(this.props.onSubmit);\r\n  };\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button\r\n            type=\"submit\"\r\n            className=\"SearchForm-button\"\r\n            onClick={this.handleSubmit}\r\n          >\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.query}\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchBar;\r\n","//window.scrollTo({\r\n//  top: document.documentElement.scrollHeight,\r\n//  behavior: \"smooth\",\r\n//});\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"../styles.css\";\r\n\r\nconst Button = ({ handleClick }) => {\r\n  // console.log({ handleClick });\r\n  // console.log(onClick);\r\n  return (\r\n    <button type=\"button\" className=\"Button\" onClick={handleClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\nButton.defaultProps = {\r\n  handleClick: () => null,\r\n};\r\n\r\nButton.propTypes = {\r\n  handleClick: PropTypes.func,\r\n};\r\nexport default Button;\r\n","import React, { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport \"../styles.css\";\r\n// import \"./Modal.scss\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nexport default class Modal extends Component {\r\n  // state = {\r\n  //   targetImg: \"\",\r\n  // };\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = (event) => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { largeImageURL, tags } = this.props.targetImg;\r\n    // console.log(this.props.targetImg);\r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\r\n        <div className=\"Modal\">\r\n          <img src={largeImageURL} alt={tags} />\r\n        </div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n","import axios from \"axios\";\r\n\r\n// axios.defaults.headers.common[\"Authorization\"] =\r\n//   \"Bearer 4330ebfabc654a6992c2aa792f3173a3\";\r\nconst BASEURL = \"https://pixabay.com/api/\";\r\nconst API_KEY = \"21316838-7fcc910513b76d8c5d66b5ad0\";\r\n//https://pixabay.com/api/?q=что_искать&page=номер_страницы&key=твой_ключ&image_type=photo&orientation=horizontal&per_page=12\r\n\r\nconst imagesApi = ({ searchQuery = \"\", currentPage = 1, per_page = 12 }) => {\r\n  return axios\r\n    .get(\r\n      `${BASEURL}?q=${searchQuery}&page=${currentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${per_page}`\r\n    )\r\n    .then((response) => response.data.hits);\r\n};\r\n// response.data.hits\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\n\r\nexport default imagesApi;\r\n","import React, { Component } from \"react\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport SearchBar from \"./components/SearchBar\";\nimport Loader from \"react-loader-spinner\";\nimport Button from \"./components/Button\";\nimport Modal from \"./components/Modal\";\n// import axios from \"axios\";\n// import newsApi from \"./components/services/imagesApi\";\nimport \"./components/styles.css\";\nimport imagesApi from \"./components/services/imagesApi\";\n\nclass App extends Component {\n  state = {\n    hits: [],\n    currentPage: 1,\n    searchQuery: \"\",\n    isLoading: false,\n    error: null,\n    showModal: false,\n    targetImgId: \"\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n  }\n  toggleModal = (id) => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      targetImgId: id,\n    }));\n  };\n  getImgInModal = () => {\n    if (this.state.targetImgId) {\n      return this.state.hits.find((hit) => hit.id === this.state.targetImgId);\n    }\n  };\n  onChangeQuery = (query) => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      hits: [],\n      error: null,\n    });\n    // console.log(this.state.searchQuery);\n  };\n  scroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n    // console.log(document.documentElement.scrollHeight);\n  };\n\n  fetchImages = () => {\n    const { searchQuery, currentPage } = this.state;\n    const options = { searchQuery, currentPage };\n\n    this.setState({ isLoader: true });\n    // this.scroll();\n    imagesApi(options)\n      .then((hits) =>\n        this.setState((prevState) => ({\n          hits: [...prevState.hits, ...hits],\n          currentPage: prevState.currentPage + 1,\n        }))\n      )\n      .then(this.scroll)\n      .catch((error) => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  render() {\n    // console.log(this.fetchImages);\n    const { hits, isLoading, error, showModal } = this.state;\n    const shouldRenderLoadMoreButton = hits.length > 0 && !isLoading;\n    const ModalImg = this.getImgInModal();\n    return (\n      <div>\n        {error && <h1>Ой ошибка, всё пропало!!!</h1>}\n\n        <SearchBar onSubmit={this.onChangeQuery} />\n        <ImageGallery images={hits} handleOpenModal={this.toggleModal} />\n\n        {isLoading && (\n          // <h1>Downloading...</h1>\n          <Loader type=\"TailSpin\" color=\"#00BFFF\" height={80} width={80} />\n        )}\n\n        {shouldRenderLoadMoreButton && (\n          <Button handleClick={this.fetchImages} />\n        )}\n        {showModal && (\n          <Modal onClose={this.toggleModal} targetImg={ModalImg}></Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}